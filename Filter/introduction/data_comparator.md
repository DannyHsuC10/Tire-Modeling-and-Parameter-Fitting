# Data Comparator ä½¿ç”¨èªªæ˜

## å°ˆæ¡ˆä½ç½®

æ­¤ç¨‹å¼ä½æ–¼ [æ­¤è™•](../Data_comparator.py)ï¼Œ
ä¸»è¦ç”¨é€”ç‚º**æ¯”è¼ƒåŸå§‹è¼ªèƒæ¸¬è©¦è³‡æ–™èˆ‡ç¶“éå‰è™•ç†å¾Œè³‡æ–™çš„å·®ç•°**ã€‚

```
magic_formula/
â”œâ”€ filter/
â”‚  â””â”€ Data_comparator.py
â”œâ”€ data/
â”‚  â””â”€ csv/
â”‚     â”œâ”€ åŸå§‹è³‡æ–™.csv
â”œâ”€ data/
â”‚  â””â”€ Filtered_data/
â”‚     â”œâ”€ è³‡æ–™_processed.csv
```

---

## åŠŸèƒ½èªªæ˜

`DataComparator` é¡åˆ¥ç”¨æ–¼ï¼š

* è®€å–åŸå§‹ CSV è³‡æ–™
* è®€å–æ¸…æ´— / éæ¿¾å¾Œ CSV è³‡æ–™
* è‡ªå‹•å°‹æ‰¾ **å…±åŒæ¬„ä½**
* å°‡ç›¸åŒæ¬„ä½çš„è³‡æ–™ï¼š

  * å·¦åœ– â†’ åŸå§‹è³‡æ–™
  * å³åœ– â†’ æ¸…æ´—å¾Œè³‡æ–™
* æ”¯æ´ï¼š

  * å³æ™‚é¡¯ç¤ºåœ–å½¢
  * æˆ–å„²å­˜æ¯”è¼ƒåœ–

---

## é¡åˆ¥èªªæ˜

### `DataComparator`

### åˆå§‹åŒ–åƒæ•¸

```python
DataComparator(
    raw_filename: str,
    cleaned_filename: str,
    save_fig: bool = False,
    fig_dir: str = "figures"
)
```

| åƒæ•¸                 | èªªæ˜                                |
| ------------------ | --------------------------------- |
| `raw_filename`     | åŸå§‹è³‡æ–™æª”åï¼ˆä½æ–¼ `data/csv/`ï¼‰            |
| `cleaned_filename` | æ¸…æ´—å¾Œè³‡æ–™æª”åï¼ˆä½æ–¼ `data/Filtered_data/`ï¼‰ |
| `save_fig`         | æ˜¯å¦å„²å­˜åœ–ç‰‡ï¼ˆé è¨­ False â†’ é¡¯ç¤ºåœ–å½¢ï¼‰           |
| `fig_dir`          | å„²å­˜åœ–ç‰‡è³‡æ–™å¤¾åç¨±                         |

---

## æ¯”è¼ƒé‚è¼¯

1. è®€å–å…©å€‹ CSV
2. å–å¾—å…©è€…çš„äº¤é›†æ¬„ä½
3. å°æ¯ä¸€å€‹å…±åŒæ¬„ä½ï¼š

   * å»ºç«‹ 1x2 å­åœ–
   * å·¦åœ–ï¼šRaw data
   * å³åœ–ï¼šCleaned data
4. æ ¹æ“š `save_fig`ï¼š

   * `False` â†’ é¡¯ç¤ºåœ–å½¢
   * `True` â†’ å„²å­˜ç‚º PNG

---

##  ä½¿ç”¨æ–¹å¼

ç›´æ¥åŸ·è¡Œï¼š

```python
if __name__ == "__main__":

    comparator = DataComparator(
        raw_filename="è³‡æ–™åç¨±.csv",
        cleaned_filename="è³‡æ–™åç¨±_processed1.csv",
        save_fig=False
    )
    comparator.compare_columns()
```

---

## è¼¸å‡ºæ•ˆæœ

æ¯å€‹æ¬„ä½æœƒç”¢ç”Ÿä¸€å¼µæ¯”è¼ƒåœ–ï¼Œå¯ç”¨æ–¼è§€å¯Ÿ(Y è»¸å…±ç”¨)ï¼š

* æ¿¾æ³¢æ•ˆæœ
* é›¢ç¾¤å€¼æ˜¯å¦è¢«ç§»é™¤
* è¨Šè™Ÿæ˜¯å¦å¹³æ»‘åŒ–
* æ˜¯å¦èª¤åˆªè³‡æ–™

---

## é©ç”¨æƒ…å¢ƒ

* Magic Formula è¼ªèƒæ¨¡å‹å‰è™•ç†é©—è­‰
* æ¿¾æ³¢å™¨æ•ˆæœæª¢æŸ¥
* Boolean mask æ¸…æ´—æª¢æŸ¥
* å–®ä½è½‰æ›é©—è­‰
* æ•¸æ“šå“è³ªæª¢æŸ¥

---

## ğŸ“ åœ–ç‰‡å„²å­˜æ¨¡å¼

è‹¥è¨­å®šï¼š

```python
save_fig=True
```

å°‡è‡ªå‹•å»ºç«‹ï¼š

```
magic_formula/figures/
```

ä¸¦å„²å­˜ï¼š

```
ColumnName_comparison.png
```

## æ³¨æ„äº‹é …

* å…©ä»½ CSV å¿…é ˆå­˜åœ¨æ–¼æŒ‡å®šè³‡æ–™å¤¾
* è‹¥æ¬„ä½åç¨±ä¸åŒå‰‡ä¸æœƒè¢«æ¯”è¼ƒ
* è³‡æ–™ç­†æ•¸ä¸åŒæ™‚ä»å¯ç•«åœ–ï¼ˆä»¥ index ç‚º X è»¸ï¼‰
